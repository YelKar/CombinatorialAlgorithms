# Генерация перестановок

## Алгоритм Нарайаны

_Будем говорить, что перестановка **β** непосредственно следует за перестановкой **α** относительно лексикографического порядка, если выполняются следующие условия:_

1. _**α < β**, т. е. **α ≤ β** и **α ≠ β**._
2. _Не существует такой перестановки **γ**, что **α < γ < β**._

---

### Генерация перестановок в лексикографическом порядке

1. Начинаем с тождественной перестановки **(1, 2, …, n)**.
2. Переходим от уже построенной перестановки
   **α = (α₁, α₂, …, αₙ)**
   к непосредственно следующей за ней перестановке
   **β = (β₁, β₂, …, βₙ)**.
3. Останавливаемся, как только получим наибольшую перестановку
   **(n, n−1, …, 2, 1)**
   (относительно лексикографического порядка).

---
### Алгоритм

Просматриваем **справа налево** перестановку
**α = (a₁, a₂, …, aₙ)**
в поисках **самой правой позиции** `i`, такой что:

> **aᵢ < aᵢ₊₁**

Если такой позиции **нет**, то:

* **a₁ > a₂ > … > aₙ**,
* т. е. **α = (n, n−1, …, 2, 1)**,
* и **генерировать больше нечего**.

---

Если позиция `i` найдена, то имеем:

> **aᵢ < aᵢ₊₁ > aᵢ₊₂ > ⋯ > aₙ**

---

**Далее:**

1. **Ищем индекс `j`** — первую позицию при проходе **с конца к позиции `i`**, такую что:

   > **aⱼ > aᵢ** и **i < j**

2. **Меняем местами** элементы **aᵢ** и **aⱼ**.

3. После чего **переворачиваем отрезок**, начиная с позиции **i+1** до конца:

   > **α'ᵢ₊₁, α'ᵢ₊₂, …, α'ₙ**

---

**Итог:**
Полученная перестановка и будет следующей — **β**.
